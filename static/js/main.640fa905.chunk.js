(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,n){e.exports=n(25)},25:function(e,t,n){"use strict";n.r(t);var o=n(2),a=n.n(o),r=n(11),i=n.n(r),l=n(12),c=n(27);const m={card:{width:"400px",margin:"50px auto",textAlign:"center",border:"1px solid #ddd",padding:"20px",borderRadius:"10px",backgroundColor:"#fff"},imageContainer:{height:"300px",marginBottom:"20px",display:"flex",justifyContent:"center"},image:{maxHeight:"100%",maxWidth:"100%",borderRadius:"10px"},title:{marginBottom:"20px"},buttonContainer:{display:"flex",justifyContent:"space-between"},buttonRed:{backgroundColor:"red",color:"white",flex:1,margin:"0 5px",padding:"15px",border:"none",borderRadius:"5px",cursor:"pointer"},buttonYellow:{backgroundColor:"yellow",color:"black",flex:1,margin:"0 5px",padding:"15px",border:"none",borderRadius:"5px",cursor:"pointer"},buttonGreen:{backgroundColor:"green",color:"white",flex:1,margin:"0 5px",padding:"15px",border:"none",borderRadius:"5px",cursor:"pointer"},finalRecommendation:{textAlign:"center",marginTop:"50px"},recommendationList:{listStyleType:"none",padding:0},recommendationItem:{marginBottom:"20px"},recommendationImage:{maxWidth:"200px",borderRadius:"10px"}};var d=function(){const[e,t]=Object(o.useState)(null),[n,r]=Object(o.useState)(0),[i,l]=Object(o.useState)([]);Object(o.useEffect)(()=>{d()},[]);const d=()=>{const e=localStorage.getItem("sessionId");c.a.get("http://127.0.0.1:8000/api/next-item/",{params:{session_id:e}}).then(e=>{t(e.data)}).catch(e=>{console.error("Error fetching item:",e)})},s=t=>{if(!e)return;const n=localStorage.getItem("sessionId");c.a.post("http://127.0.0.1:8000/api/rate/",{item:e.id,rating:t,session_id:n}).then(e=>{r(e=>{const t=e+1;return t>=5?u(n):d(),t})}).catch(e=>{console.error("Error submitting rating:",e)})},u=e=>{c.a.get("http://127.0.0.1:8000/api/final-recommendation/",{params:{session_id:e}}).then(e=>{l(e.data)}).catch(e=>{console.error("Error fetching final recommendation:",e)})},p=e=>e.image?`http://127.0.0.1:8000${e.image}`:e.image_url?e.image_url:"";return i.length>0?a.a.createElement("div",{style:m.finalRecommendation},a.a.createElement("h2",null,"We recommend these movies for you:"),a.a.createElement("ul",{style:m.recommendationList},i.map(e=>a.a.createElement("li",{key:e.id,style:m.recommendationItem},a.a.createElement("h3",null,e.title),p(e)&&a.a.createElement("img",{src:p(e),alt:e.title,style:m.recommendationImage}))))):e?a.a.createElement("div",{style:m.card},a.a.createElement("div",{style:m.imageContainer},p(e)&&a.a.createElement("img",{src:p(e),alt:e.title,style:m.image})),a.a.createElement("div",{style:m.title},a.a.createElement("h2",null,e.title)),a.a.createElement("div",{style:m.buttonContainer},a.a.createElement("button",{style:m.buttonRed,onClick:()=>s(1)},"I don't recommend"),a.a.createElement("button",{style:m.buttonYellow,onClick:()=>s(3)},"Don't know"),a.a.createElement("button",{style:m.buttonGreen,onClick:()=>s(5)},"I recommend"))):a.a.createElement("div",null,"Loading...")};var s=function(){return Object(o.useEffect)(()=>{let e=localStorage.getItem("sessionId");e||(e=Object(l.v4)(),localStorage.setItem("sessionId",e))},[]),a.a.createElement("div",{className:"App"},a.a.createElement("h1",null,"Welcome to the Recommendation System"),a.a.createElement(d,null))};i.a.render(a.a.createElement(s,null),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.640fa905.chunk.js.map